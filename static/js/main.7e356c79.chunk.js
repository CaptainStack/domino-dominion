(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,n,t){e.exports=t(21)},,,,,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,function(e,n,t){},,,function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),i=t(4),a=t.n(i),c=(t(12),t(14),function(e){_.dispatch({type:"INITIALIZE_BOARD"})}),s=(t(16),t(18),0),l=1,u=2,d=3,f=4,h=5,m=6,p=7,v={title:"Domino Dominion",board:{dimensions:{rows:9,columns:9},tiles:[],occupied_tiles:function(){var e=[],n=!0,t=!1,o=void 0;try{for(var r,i=this.tiles[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var a=r.value;a.content!==l&&e.push(a)}}catch(c){t=!0,o=c}finally{try{n||null==i.return||i.return()}finally{if(t)throw o}}return e},legal_tiles:[],possible_tiles:function(){var e=100,n=-100,t=100,o=-100,r=!0,i=!1,a=void 0;try{for(var c,s=this.occupied_tiles()[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var l=c.value;l.row<e&&(e=l.row),l.row>n&&(n=l.row),l.column<t&&(t=l.column),l.column>o&&(o=l.column)}}catch(w){i=!0,a=w}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}var u=[],d=!0,f=!1,h=void 0;try{for(var m,p=this.tiles[Symbol.iterator]();!(d=(m=p.next()).done);d=!0){var v=m.value;Math.abs(v.row-e)<5&&Math.abs(v.row-n)<5&&Math.abs(v.column-t)<5&&Math.abs(v.column-o)<5&&u.push(v)}}catch(w){f=!0,h=w}finally{try{d||null==p.return||p.return()}finally{if(f)throw h}}return u},impossible_tiles:[]}},w=function(e){var n,t=e.tile,o=e.occupied,i=(e.impossible,e.possible),a=(e.legal,function(){switch(t.content){case l:return"white";case s:return"lightpink";case u:return"#E7B928";case d:return"#314919";case f:return"#278DD5";case h:return"#8E9C2D";case m:return"#B19A7A";case p:return"#3D2B27";default:return"transparent"}});return r.a.createElement("div",{className:"Tile",key:t.id,onMouseDown:(n=t,function(e){_.dispatch({type:"ADVANCE_CONTENT",tile:n})}),style:{borderColor:o?a():i?"#d3d3d3":"white",backgroundColor:a()}})},b=function(e){var n=e.board,t=n.tiles.map(function(e){return r.a.createElement(w,{tile:e,occupied:n.occupied_tiles().includes(e),possible:n.possible_tiles().includes(e)})});return r.a.createElement("div",{className:"Board",style:{gridTemplateColumns:"repeat(".concat(n.dimensions.columns,", 40px)"),gridTemplateRows:"repeat(".concat(n.dimensions.rows,", 40px)")}},t)},g=function(e){var n=e.state;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,n.title),r.a.createElement(b,{board:n.board}),r.a.createElement("button",{onMouseDown:c},"5x5")))},y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var A=t(5),N=function(e,n,t,o,r){return{id:e,row:n,column:t,content:o}},k=function(e){var n=e.board;n.tiles=[];for(var t=0,o=0;o<e.board.dimensions.rows;o++)for(var r=0;r<e.board.dimensions.columns;r++)o===Math.floor(e.board.dimensions.rows/2)&&r===Math.floor(e.board.dimensions.columns/2)?n.tiles.push(N(t,o,r,s)):n.tiles.push(N(t,o,r,l)),t++;return e.board=n,e},D=function(e,n){return n.content!==s&&e.board.possible_tiles().includes(n)&&(n.content<7?n.content+=1:n.content=l),e};t.d(n,"store",function(){return _}),t.d(n,"render",function(){return C});var _=Object(A.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INITIALIZE_BOARD":return k(e);case"ADVANCE_CONTENT":return D(e,n.tile);default:return e}}),C=function(){return a.a.render(r.a.createElement(g,{state:_.getState()}),document.getElementById("root"))};C(),_.subscribe(C),function(e){if("serviceWorker"in navigator){if(new URL("/domino-dominion",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/domino-dominion","/service-worker.js");y?(function(e,n){fetch(e).then(function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):E(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):E(n,e)})}}()}],[[7,2,1]]]);
//# sourceMappingURL=main.7e356c79.chunk.js.map